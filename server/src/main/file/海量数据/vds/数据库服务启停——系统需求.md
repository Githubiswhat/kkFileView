# 1. **范围**

## 1.1 **系统概述**

VDS(Vast Data Studio)是一个可视化的桌面客户端工具，主要用于协助数据库用户（DBA、开发人员、分析师）进行数据库日常的管理和运维工作，工作内容涵盖对象管理、代码调试和数据管理。

## 1.2 **文档概述**

阐述数据库服务启停需求；

## 1.3 **术语**

## 1.4 **引用文档**

# 2. **功能简述**

## 2.1 功能介绍

- 提供可视化数据库服务启停功能，用户可以通过可视化窗口来启动和关闭数据库服务；
- 对于已经启动的数据库服务，用户可以对该服务进行关闭操作；
- 对于已经关闭的数据库服务，用户可以对该服务进行启动操作；

## 2.2 功能说明

启动服务，用户填写远程服务器SSH服务的相关信息，后台发起SSH连接请求，连接建立之后，发送数据库服务启动命令``` vctl restart``` ，读取服务器返回的执行命令结果，如果执行成功，提示数据库服务启动成功，如果执行失败，提示数据库服务启动失败。

关闭服务，用户填写远程服务器SSH服务的相关信息，后台发起SSH连接请求，连接建立之后，发送数据库服务启动命令``` vctl stop``` ，读取服务器返回的执行命令结果，如果执行成功，提示数据库服务关闭成功，如果执行失败，提示数据库服务关闭失败。

## 2.3 使用流程

![image-20230105150000915](C:\Users\windows\AppData\Roaming\Typora\typora-user-images\image-20230105150000915.png)

### 2.4 **关键数据结构**

用户在对象浏览器树，右键菜单-启动服务（关闭服务），弹出可视化创建窗口，窗口内容说明如下：

| 字典   |               说明                | 必填 | 允许修改 |
| :----- | :-------------------------------: | ---: | -------- |
| 主机   |        数据库服务所在主机         |   是 | 否       |
| 端口   |    数据库服务所在主机的SSH端口    |   是 | 是       |
| 用户名 | 数据库服务所在主机的SSH登录用户名 |   是 | 是       |
| 密码   |  数据库服务所在主机的SSH登录密码  |   是 | 是       |

### 2.5 功能局限

在数据库连接断开的情况下，无法判断数据库服务是否启动，在这种情况下，右键菜单显示启动服务，使用的启动命令为``` vctl restart``` 。

### 2.6 **正反向行为**

#### 2.6.1 生效说明

1. 启动服务成功时，显示启动成功
2. 关闭服务成功时，显示关闭成功

