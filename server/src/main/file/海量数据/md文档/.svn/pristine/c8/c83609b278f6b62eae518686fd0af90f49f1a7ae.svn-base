# 高可用集群

本章节主要介绍Vastbase G100高可用集群的相关内容，基于[HAS V1.2](HAS-1.2.md)、[HAS V1.4](HAS-1.4.md)对高可用集群做了详细介绍。

数据库高可用集群是一组计算机，它们作为一个整体向用户提供数据库服务，当主服务器出现故障时，可以将该服务器中的服务、资源、IP等转移到另一台服务器上，从而满足业务的持续性。

Vastbase G100通过一主多备的部署和配置架构实现了多点可读、数据不丢失、异地灾备等关键高可用场景。HAS 作为一款集群资源管理软件，可用于高可用集群的管理，基本功能包括：

- 自定义资源监控。
- 手动切换主备库。
- 数据库主备状态监控。
- 集群统一启停。
- 故障自动主备切换。

## Vastbase G100&Has For Vastbase G100适配说明

| HAS               | Vastbase                            |
| :---------------- | :---------------------------------- |
| HAS V1.2/HAS V1.4 | Vastbase G100 V2.2 Build5及以上版本 |

## 架构

基于各版本的HAS组件，采用不同的集群架构：

- HAS V1.2采用日志流复制技术实现集群内主备库的的数据和状态传输，详见：[基于HAS1.2的集群架构](HAS1.2-集群架构.md)。
- HAS V1.4采用共享存储方案实现数据库的高可用，详见：[基于HAS1.4的集群架构](HAS1.4-集群架构.md)。

## 主要改进

HAS1.4在HAS1.2的基础上实现基于共享存储的主备单活方案，支持基于企业级的存储设备的高可用功能，在两个节点中切换使用同一存储设备中的数据实例。当主节点出现故障，存储设备会从主节点切换至备节点，由备节点启动数据实例对外提供服务。