####  DATE类型的减法与乘法

**功能描述**

在以下场景中，查询结果与Oracle数据库一致：

- date类型的数据相减，结果是number类型（保留小数），结果不含小数部分则展示为整数。

- date类型的数据相减，再和整数类型数据相乘，结果是number类型（保留小数），结果不含小数部分则展示为整数。

**注意事项**

受显示格式和数据类型精度等原因影响，如果同样的数据计算形式，结果在小数位上与Oracle不完全一致，此为正常现象。

**示例**

示例一：减法（结果为number类型，由客户端控制保留几位小数）。

```
select to_date('20220110 10:10:10','yyyymmdd hh24:mi:ss')-to_date('20220101 9:9:9','yyyymmdd hh24:mi:ss')  res from dual;
```

 结果显示如下：

```
    RES
----------
9.04237268518519
(1 row)
```

结果说明：

- 单位：天（day）。

- 小数计算方式：日期相差换算为秒数/(24\*60\*60)。该例中前后相差为9天零1小时零1分零1秒，则结果为9+(1\*60\*60+1\*60+1)/(24\*60*60)≈9.04237268518519，由客户端控制保留几位小数，如果客户端控制保留7位，则最终结果为9.04237269。

- 刚好为整数日时，显示结果不带小数部分。

示例二：日期相减的差，再做乘法。

```
select (to_date('20220110 10:10:10','yyyymmdd hh24:mi:ss')-to_date('20220101 9:9:9','yyyymmdd hh24:mi:ss'))*86400  as res from dual;
```

 结果显示如下：

```
    RES
----------
781261.000000000416
(1 row)
```

####  